/* --- 1. SİSTEM DEĞİŞKENLERİ --- */
:root {
    --bg-color: #050505;
    --text-main: #ffffff;
    --text-muted: #888888;
    --glass-bg: rgba(255, 255, 255, 0.03);
    --glass-border: rgba(255, 255, 255, 0.08);
    --primary: #ff2a2a; /* SAVAGE Kırmızısı */
    --easing: cubic-bezier(0.23, 1, 0.32, 1);
    --light-opacity: 0.15;
}

/* Light Mode */
body.light-mode {
    --bg-color: #f4f4f4;
    --text-main: #111;
    --text-muted: #666;
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(0,0,0,0.1);
    --primary: #ff2a2a; 
    --light-opacity: 0.08; 
}

/* Renk Temaları */
body.theme-purple { --primary: #bc13fe; }
body.theme-cyan { --primary: #00f2ff; }
body.theme-gold { --primary: #ffd700; }

/* --- 2. MOUSE GİZLEME ve SEÇİM ENGELİ (PC Sadece) --- */
html, body, a, button, .nav-item, input[type=range], section, h1, h2, h3, p, .glass-card {
    cursor: none !important;
    user-select: none; 
    -webkit-user-select: none;
    -moz-user-select: none;
}
input, textarea { user-select: text !important; cursor: text !important; }

body {
    background-color: var(--bg-color);
    color: var(--text-main);
    overflow-x: hidden;
    margin: 0; padding: 0;
    box-sizing: border-box;
    font-family: 'Outfit', sans-serif;
    transition: background-color 0.6s var(--easing), color 0.6s var(--easing);
}

/* --- 3. CUSTOM CURSOR & AMBIENT LIGHT (PC Sadece) --- */
#cursor-dot {
    position: fixed; top: 0; left: 0; width: 8px; height: 8px;
    background: var(--text-main); border-radius: 50%; pointer-events: none;
    transform: translate(-50%, -50%); z-index: 99999;
    mix-blend-mode: exclusion;
    transition: width 0.2s, height 0.2s, background 0.2s;
    will-change: left, top;
}
body.clicking #cursor-dot { width: 14px; height: 14px; background: var(--primary); }

#ambient-light {
    position: fixed; top: 50%; left: 50%;
    width: 90vw; height: 90vw;
    background: radial-gradient(circle, var(--primary) 0%, rgba(0,0,0,0) 65%);
    opacity: var(--light-opacity);
    transform: translate(-50%, -50%);
    pointer-events: none; z-index: -1;
    filter: blur(80px);
    mix-blend-mode: screen; 
    transition: opacity 0.5s ease;
    will-change: left, top;
}
body.light-mode #ambient-light { mix-blend-mode: multiply; filter: blur(120px); }

/* --- 4. PRELOADER & AUTOPLAY GATE --- */
#preloader {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: #000; z-index: 10001;
    display: flex; justify-content: center; align-items: center;
    transition: opacity 0.8s ease, visibility 0.8s ease;
}
.loader-text {
    font-size: 5rem; font-weight: 900; letter-spacing: 10px; color: #fff;
    animation: pulse 1.5s infinite alternate;
}
@keyframes pulse { 0% { opacity: 0.3; } 100% { opacity: 1; text-shadow: 0 0 40px var(--primary); } }
.loaded #preloader { opacity: 0; visibility: hidden; }

#autoplay-gate {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: #000; z-index: 10002;
    display: none; 
    flex-direction: column; justify-content: center; align-items: center;
    transition: opacity 0.5s ease, visibility 0.5s ease;
    cursor: pointer !important;
}
#autoplay-gate h2 {
    color: var(--text-main); font-size: 2rem; font-weight: 700;
    opacity: 0.5; transition: 0.3s;
}
#autoplay-gate:hover h2 { opacity: 1; text-shadow: 0 0 15px var(--primary); }
.started #autoplay-gate { opacity: 0; visibility: hidden; } 


/* --- 5. MENU & UI --- */
nav {
    position: fixed; top: 30px; left: 50%; transform: translateX(-50%);
    padding: 8px 12px; background: rgba(20,20,20,0.6); backdrop-filter: blur(25px);
    border: 1px solid var(--glass-border); border-radius: 100px;
    display: flex; gap: 8px; align-items: center; z-index: 1000;
    transition: 0.3s;
}
body.light-mode nav { background: rgba(255,255,255,0.6); }

.nav-item {
    padding: 10px 20px; color: var(--text-muted); text-decoration: none;
    font-size: 0.85rem; font-weight: 700; border-radius: 50px; transition: 0.3s;
}
.nav-item:hover, .nav-item.active { 
     color: var(--text-main); 
    background: rgba(255,255,255,0.1); 
}
body.light-mode .nav-item:hover, body.light-mode .nav-item.active { 
    background: rgba(0,0,0,0.05); 
}

/* --- 6. MİNİ MUSIC PLAYER --- */
.music-wrapper {
    position: relative; display: flex; align-items: center;
    height: 40px; border-radius: 50px; background: transparent;
    transition: 0.4s var(--easing); overflow: hidden; width: 40px; 
    border: 1px solid transparent;
}
.music-wrapper:hover, .music-wrapper.active {
    width: 40px; background: rgba(255,255,255,0.05);
    border-color: var(--glass-border); padding-right: 0px;
}
body.light-mode .music-wrapper:hover { background: rgba(0,0,0,0.05); }

.music-icon {
    width: 40px; height: 40px; flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; border-radius: 50%;
}
.music-bars { display: flex; gap: 3px; height: 14px; align-items: flex-end; }
.bar { width: 3px; background: var(--text-main); animation: eq 0.8s infinite ease-in-out; }
.bar:nth-child(2) { animation-delay: 0.1s; height: 60%; }
.bar:nth-child(3) { animation-delay: 0.2s; height: 30%; }
@keyframes eq { 0%, 100% { height: 20%; } 50% { height: 100%; } }
.music-paused .bar { animation: none; height: 3px; }


/* --- 7. İÇERİK ve MODAL --- */
section {
    min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center;
    padding: 100px 20px; text-align: center;
    transition: opacity 0.5s var(--easing);
}

/* Ödeme Sayfası MODAL Stilleri */
#payment-modal { 
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.95); z-index: 10003; display: none; 
    flex-direction: column; justify-content: center; align-items: center;
    opacity: 0; transition: opacity 0.5s ease;
}
/* payment-active iken her şeyi gizle */
body.payment-active section, 
body.payment-active nav,
body.payment-active .settings-trigger,
body.payment-active .panel,
body.payment-active .ai-trigger { 
    pointer-events: none; user-select: none; opacity: 0;
}
body.payment-active #payment-modal { display: flex; opacity: 1; } /* Modal'ı göster */

.payment-content {
    width: 100%; max-width: 800px; background: var(--glass-bg); 
    padding: 40px; border-radius: 20px; border: 1px solid var(--glass-border);
    box-shadow: 0 0 50px rgba(0,0,0,0.5); text-align: left; position: relative;
}
.payment-close {
    position: absolute; top: 15px; right: 25px; color: var(--text-main); 
    font-size: 2rem; font-weight: 300; cursor: pointer; opacity: 0.7; transition: 0.3s;
    line-height: 1;
}
.payment-close:hover { opacity: 1; transform: scale(1.1); }
.payment-content blockquote {
    background: rgba(255, 255, 255, 0.05); padding: 15px; 
    border-left: 5px solid var(--primary); margin-top: 10px; 
    border-radius: 8px; color: var(--text-main);
}
.payment-content blockquote p { margin: 5px 0; }

.reveal { opacity: 0; transform: translateY(50px); transition: 1s var(--easing); }
.reveal.active { opacity: 1; transform: translateY(0); }

#home h1 {
    font-size: clamp(4rem, 12vw, 9rem); font-weight: 900; line-height: 0.85;
    letter-spacing: -4px; margin-bottom: 30px; text-transform: uppercase;
    background: linear-gradient(180deg, var(--text-main) 20%, rgba(100,100,100,0.2) 100%);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
}

/* --- 8. CARDS & BUTTONS --- */
.grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px; width: 100%; max-width: 1200px;
}
.glass-card {
    background: var(--glass-bg); border: 1px solid var(--glass-border);
    padding: 50px 30px; border-radius: 24px; position: relative; overflow: hidden;
    transition: 0.4s; backdrop-filter: blur(20px);
}
.glass-card:hover { border-color: var(--primary); transform: translateY(-10px); }

.btn-main {
    display: inline-block; padding: 16px 40px; background: var(--text-main); color: var(--bg-color);
    border-radius: 30px; font-weight: 800; text-decoration: none; margin-top: 20px;
    transition: 0.3s;
}
.btn-main:hover { transform: scale(1.05); box-shadow: 0 0 40px var(--primary); }

/* --- 9. SETTINGS PANEL --- */
.settings-trigger {
    position: fixed; bottom: 30px; right: 30px; width: 50px; height: 50px;
    background: var(--glass-bg); border: 1px solid var(--glass-border); backdrop-filter: blur(10px);
    border-radius: 16px; display: flex; align-items: center; justify-content: center;
    font-size: 1.5rem; transition: 0.3s; z-index: 999; color: var(--text-main);
}
.settings-trigger:hover { background: var(--text-main); color: var(--bg-color); }

.panel {
    position: fixed; bottom: 90px; right: 30px; width: 260px;
    background: rgba(10,10,10,0.95); border: 1px solid var(--glass-border);
    border-radius: 20px; padding: 25px; transform: translateX(120%); opacity: 0;
    transition: 0.5s var(--easing); backdrop-filter: blur(30px); z-index: 998;
}
body.light-mode .panel { background: rgba(255,255,255,0.95); }
.panel.open { transform: translateX(0); opacity: 1; }

.color-opt { width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 2px solid transparent; }
.color-opt.active { border-color: var(--text-main); transform: scale(1.1); }

/* Form */
.g-input {
    width: 100%; padding: 15px; background: var(--glass-bg); border: 1px solid var(--glass-border);
    border-radius: 12px; color: var(--text-main); margin-bottom: 10px; outline: none; transition: 0.3s;
}
.g-input:focus { border-color: var(--primary); background: rgba(255,255,255,0.1); }

/* --- 10. AI ASİSTAN PANELİ --- */
.ai-trigger {
    position: fixed; bottom: 30px; left: 30px; width: 50px; height: 50px; 
    background: var(--primary); border: 2px solid var(--primary); 
    border-radius: 50%; 
    display: flex; align-items: center; justify-content: center;
    font-size: 1.5rem; transition: 0.3s; z-index: 999; color: var(--text-main);
    box-shadow: 0 0 20px var(--primary); 
    animation: pulse-ai 2s infinite cubic-bezier(0.4, 0, 0.6, 1); 
}
.ai-trigger:hover { 
    background: var(--text-main); color: var(--primary); transform: scale(1.1);
    box-shadow: 0 0 30px var(--primary);
    animation: none;
}
@keyframes pulse-ai {
  0%, 100% { box-shadow: 0 0 0 0 rgba(255, 42, 42, 0.7); }
  50% { box-shadow: 0 0 0 10px rgba(255, 42, 42, 0); }
}

.ai-panel {
    position: fixed; bottom: 90px; 
    left: 30px; width: 320px; 
    height: 400px; 
    background: rgba(10,10,10,0.9); 
    border: 1px solid var(--glass-border);
    border-radius: 20px; 
    padding: 20px; 
    transform: translateX(-120%); 
    opacity: 0;
    transition: 0.5s var(--easing); 
    backdrop-filter: blur(20px); 
    z-index: 998;
    display: flex; flex-direction: column;
    box-shadow: 0 10px 30px rgba(0,0,0,0.4), 0 0 40px rgba(255,42,42,0.15);
}
body.light-mode .ai-panel { background: rgba(255,255,255,0.9); }
.ai-panel.open { transform: translateX(0); opacity: 1; }

.chat-messages {
    flex-grow: 1; overflow-y: auto; margin-bottom: 10px; 
    padding-right: 10px;
    font-size: 0.9rem; line-height: 1.4;
    scrollbar-width: thin; scrollbar-color: var(--primary) transparent;
}
.chat-messages::-webkit-scrollbar { width: 6px; }
.chat-messages::-webkit-scrollbar-thumb { background-color: var(--primary); border-radius: 10px; }
.chat-messages::-webkit-scrollbar-track { background: transparent; }

.ai-message, .user-message {
    padding: 8px 12px;
    border-radius: 15px; 
    margin-bottom: 8px;
    max-width: 80%;
    display: table; 
}
.ai-message {
    background: rgba(255, 255, 255, 0.1); 
    color: var(--text-main); align-self: flex-start;
    border-radius: 15px 15px 15px 5px; 
}

.user-message {
    background: var(--primary); 
    color: #fff; align-self: flex-end;
    margin-left: auto;
    border-radius: 15px 15px 5px 15px; 
}

.chat-input { display: flex; gap: 5px; }
.chat-input input {
    flex-grow: 1; padding: 10px; border: 1px solid var(--glass-border);
    background: var(--glass-bg); border-radius: 10px; color: var(--text-main); outline: none;
}
.chat-input button {
    padding: 0 15px; background: var(--primary); color: #fff; border: none;
    border-radius: 10px; font-weight: bold; cursor: pointer; transition: 0.3s;
}
.chat-input button:hover { opacity: 0.8; }